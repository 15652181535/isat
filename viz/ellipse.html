<!DOCTYPE html>
<html>
  <head>
    <script src="http://ajax.googleapis.com/ajax/libs/jquery/1.7.2/jquery.min.js"></script>
    <script src="ellipse.js"></script>
  </head>
  <body>
    <h1>Ellipse testing</h1>
    <p>Hopefully, the X and Y portions of the calculated X,Y,Z
      coordinates for a satellite will describe an ellipse. In ECI
      Geodetic coords, Z is aligned with North pole, which the
      satellites nominally orbit around.  Draw some points and see if
      they look fine. Earth coordinates don't enter into the equation
      yet.</p>
    <p>For extra credit, draw short vectors indicating direction of travel.</p>
    <p>For more extra credit, pull values from HTML INPUT text areas</p>

    <p>The following satellite calculations (time, x, y, z, vx, vy, vz, ...) is from:
      <pre>
octave:1> testmat
input opsmode afspc a, improved i i
input type of run c, v, m: c
input constants 721, 72, 84 72
input elset filename: ONE.TLE 
      </pre>
      with the output grabbed from file tmatall.out.</p>

    <textarea id="satcalcs" rows="10" cols="186">

 5 xx
       0.00000000    7022.46529266   -1400.08296755       0.03995155  1.893841015  6.405893759  4.534807250
 6261429.67110716    2720.67572658    6216.45274941    4598.56301497 -5.917710415  3.987298928  0.394515291  2012  5 24  0: 0: 0.000000
 6261449.67110716   -4578.50811797    7829.16668532    3118.74995181 -5.448920305 -1.087327039 -2.467097505  2012  5 24  0:20: 0.000009
 6261469.67110716   -9208.45933204    4421.88589442    -454.55719165 -1.999451004 -4.213462551 -3.171360744  2012  5 24  0:40: 0.000018
 6261489.67110716   -9004.82327486   -1330.20986423   -3803.02277389  2.401038902 -4.935761395 -2.125912922  2012  5 24  0:59:59.999987
 6261509.67110716   -3609.24085128   -6153.26445093   -4857.53611205  6.305342686 -2.448690799  0.661597147  2012  5 24  1:19:59.999996
 6261529.67110716    4319.84386971   -5528.72881088   -1826.48285797  5.534427799  3.943155222  4.197821055  2012  5 24  1:40: 0.000004
 6261549.67110716    6280.15618000    1899.12619183    3235.31881933 -2.663743915  6.779122675  3.122978482  2012  5 24  2: 0: 0.000013
 6261569.67110716     102.44545906    7498.10407147    4473.97542321 -6.324785044  2.075678591 -0.900672916  2012  5 24  2:19:59.999982
 6261589.67110716   -6674.66720812    7077.95823567    1940.11640340 -4.422860807 -2.447314159 -2.941485225  2012  5 24  2:39:59.999991
 6261609.67110716   -9734.12630243    2516.88103801   -1794.99859414 -0.495402110 -4.766102404 -2.989543598  2012  5 24  3: 0: 0.000000
 6261629.67110716   -7653.63154391   -3340.55632133   -4560.80027229  3.946743306 -4.501678432 -1.330459028  2012  5 24  3:20: 0.000009
 6261649.67110716    -788.26606247   -6815.18673862   -4294.94595663  6.924632409 -0.561079355  2.011839511  2012  5 24  3:40: 0.000018
 6261669.67110716    6163.30530458   -3402.07104609      77.36621807  3.041981986  6.049075561  4.608613435  2012  5 24  3:59:59.999987
 6261689.67110716    4648.45991135    4518.47720518    4244.90079568 -4.868253444  5.515162721  1.607105811  2012  5 24  4:19:59.999996
 6261709.67110716   -2534.11162310    7990.00045004    3856.20095775 -6.046581237  0.266142962 -1.898314331  2012  5 24  4:40: 0.000004
 6261729.67110716   -8283.45971540    5809.75675772     611.79095212 -3.165829401 -3.530868242 -3.162873110  2012  5 24  5: 0: 0.000013
 6261749.67110716   -9607.48127545     441.50903294   -3010.35102405  1.072679458 -5.007947795 -2.591191361  2012  5 24  5:19:59.999982
 6261769.67110716   -5676.66317780   -5075.51819848   -4927.39357289  5.345414053 -3.612439228 -0.308524872  2012  5 24  5:39:59.999991
 6261789.67110716    2117.92371341   -6573.65454006   -3151.04575928  6.663497923  1.808287335  3.342746566  2012  5 24  6: 0: 0.000000
 6261809.67110716    6779.22378574    -601.58969599    1962.45695388 -0.136102557  7.038202477  4.103180480  2012  5 24  6:20: 0.000009
 6261829.67110716    2305.97920846    6474.99861332    4601.58449946 -6.036203000  3.708178903  0.117276501  2012  5 24  6:40: 0.000018
 6261849.67110716   -4945.52933306    7762.95240047    2874.38332493 -5.294689680 -1.321694446 -2.594714467  2012  5 24  6:59:59.999987
 6261869.67110716   -9323.92406600    4142.30367483    -761.84757802 -1.752672308 -4.330864623 -3.152092419  2012  5 24  7:19:59.999996
 6261889.67110716   -8812.58466516   -1666.21219136   -4006.96252350  2.653448973 -4.904134437 -1.974507331  2012  5 24  7:40: 0.000004
 6261909.67110716   -3170.28888240   -6327.60921655   -4809.65166456  6.427297151 -2.197481977  0.919172135  2012  5 24  8: 0: 0.000013
 6261929.67110716    4665.02798249   -5285.76178838   -1498.98366785  5.201776682  4.316486912  4.331410999  2012  5 24  8:19:59.999982
 6261949.67110716    6071.80164342    2328.10580374    3460.88173128 -3.076650900  6.665250005  2.855727480  2012  5 24  8:39:59.999991
 6261969.67110716    -333.84646238    7636.80213317    4367.64236579 -6.316057882  1.790866138 -1.131030246  2012  5 24  9: 0: 0.000000
 6261989.67110716   -6965.67653799    6920.56885525    1652.72682079 -4.223009285 -2.643566886 -3.013940226  2012  5 24  9:20: 0.000009
 6262009.67110716   -9742.20148189    2197.03292102   -2083.46753876 -0.237870262 -4.836478389 -2.921741672  2012  5 24  9:40: 0.000018
 6262029.67110716   -7358.92830459   -3649.77350087   -4689.97135503  4.176267399 -4.402247679 -1.134989324  2012  5 24  9:59:59.999987
 6262049.67110716    -321.68688531   -6865.52346599   -4134.70827486  6.927699465 -0.224889689  2.273658083  2012  5 24 10:19:59.999996
 6262069.67110716    6332.73817037   -3023.47788502     429.27683682  2.559708112  6.299329216  4.583367224  2012  5 24 10:40: 0.000004
 6262089.67110716    4299.25675736    4871.43185075    4347.63893379 -5.119309717  5.279012915  1.310447397  2012  5 24 11: 0: 0.000013
 6262109.67110716   -2945.83695004    8012.57590923    3662.97480435 -5.946335781  0.002594729 -2.071985486  2012  5 24 11:19:59.999982
 6262129.67110716   -8482.59058651    5577.84701127     304.54097706 -2.935812081 -3.685779908 -3.182859339  2012  5 24 11:39:59.999991
 6262149.67110716   -9505.76947814     102.24753987   -3259.38690075  1.331322848 -5.026009157 -2.476298766  2012  5 24 12: 0: 0.000000
 6262169.67110716   -5293.80638088   -5326.98650227   -4964.00942028  5.529726094 -3.434260474 -0.074528325  2012  5 24 12:20: 0.000009
 6262189.67110716    2550.83019461   -6469.12679670   -2886.16201735  6.496265856  2.198439428  3.561237094  2012  5 24 12:40: 0.000018
 6262209.67110716    6735.62478717    -158.37747977    2268.20982307 -0.637077284  7.086591779  3.918215621  2012  5 24 12:59:59.999987
 6262229.67110716    1884.83695415    6716.61137550    4581.54748075 -6.131338852  3.423978600 -0.153980839  2012  5 24 13:19:59.999996
 6262249.67110716   -5300.22117573    7681.09637896    2618.83650403 -5.131401084 -1.551666451 -2.710912180  2012  5 24 13:40: 0.000004
 6262269.67110716   -9421.00701887    3853.79021171   -1066.87850681 -1.504080135 -4.441589407 -3.122070947  2012  5 24 14: 0: 0.000013
 6262289.67110716   -8603.10600277   -2001.30930741   -4196.61967070  2.901821877 -4.862386680 -1.814087947  2012  5 24 14:19:59.999982
 6262309.67110716   -2725.30086811   -6486.02800092   -4739.83697252  6.532566234 -1.932038552  1.178521160  2012  5 24 14:39:59.999991
 6262329.67110716    4985.73444509   -5018.59465630   -1162.15883511  4.841686364  4.679985093  4.438961579  2012  5 24 15: 0: 0.000000
 6262349.67110716    5836.96392183    2750.96937027    3664.71650546 -3.465666695  6.527196725  2.576161109  2012  5 24 15:20: 0.000009
 6262369.67110716    -767.89523149    7757.63678416    4241.70053128 -6.289729987  1.506403074 -1.351615204  2012  5 24 15:40: 0.000018
 6262389.67110716   -7241.21991413    6749.55559508    1359.06844269 -4.017255337 -2.834493357 -3.075024393  2012  5 24 15:59:59.999987
 6262409.67110716   -9731.56463469    1871.24398306   -2365.13718363  0.019563778 -4.899212217 -2.843660815  2012  5 24 16:19:59.999996
 6262429.67110716   -7049.36734947   -3953.43752484   -4801.27283403  4.398648902 -4.290912754 -0.931903626  2012  5 24 16:40: 0.000004
 6262449.67110716     142.33347073   -6894.19233117   -3953.22920961  6.906790411  0.123397924  2.530055167  2012  5 24 17: 0: 0.000013
 6262469.67110716    6469.06377911   -2628.41035889     777.90531160  2.066092893  6.523447721  4.526870275  2012  5 24 17:19:59.999982
 6262489.67110716    3934.67471994    5210.47816309    4426.12761528 -5.343588372  5.030057251  1.013692908  2012  5 24 17:39:59.999991
 6262509.67110716   -3348.98745935    8018.04070613    3454.67410920 -5.833661949 -0.257796510 -2.234444282  2012  5 24 18: 0: 0.000000
 6262529.67110716   -8664.30566815    5334.68090003      -4.13641133 -2.702340321 -3.834618658 -3.191769123  2012  5 24 18:20: 0.000009
 6262549.67110716   -9385.84303845    -239.49024612   -3497.32561940  1.587868546 -5.035186352 -2.351767623  2012  5 24 18:40: 0.000018
 6262569.67110716   -4900.03856368   -5567.48717767   -4979.99442089  5.702505440 -3.242463865  0.164598905  2012  5 24 18:59:59.999987
 6262589.67110716    2969.72235392   -6339.31464243   -2604.59495807  6.299542446  2.592127891  3.763426629  2012  5 24 19:19:59.999996
 6262609.67110716    6659.04400471     288.78214720    2558.52215742 -1.126671136  7.104087524  3.709362652  2012  5 24 19:40: 0.000004
 6262629.67110716    1458.87679142    6940.85355759    4538.88380531 -6.203985386  3.135685041 -0.418159222  2012  5 24 20: 0: 0.000013
 6262649.67110716   -5641.95833810    7583.74870856    2353.11813116 -4.959698944 -1.777026046 -2.815568263  2012  5 24 20:19:59.999982
 6262669.67110716   -9499.67574787    3556.71798635   -1368.64700668 -1.254071778 -4.545435634 -3.081395564  2012  5 24 20:39:59.999991
 6262689.67110716   -8376.83712225   -2334.81577838   -4371.22780804  3.145692377 -4.810194961 -1.644983144  2012  5 24 21: 0: 0.000000
 6262709.67110716   -2275.54810156   -6627.51506047   -4648.10361516  6.620195097 -1.652376353  1.438490040  2012  5 24 21:20: 0.000009
 6262729.67110716    5280.31837588   -4727.79292779    -818.13823735  4.455846041  5.030959852  4.518903639  2012  5 24 21:40: 0.000018
 6262749.67110716    5577.36371413    3166.19943323    3845.85722134 -3.829572074  6.366426075  2.286725710  2012  5 24 21:59:59.999987
 6262769.67110716   -1198.46457765    7860.48759939    4096.92963706 -6.246723621  1.222847857 -1.561868311  2012  5 24 22:19:59.999996
 6262789.67110716   -7500.92019528    6565.15100249    1060.17993544 -3.806119203 -3.019915147 -3.124722221  2012  5 24 22:40: 0.000004
 6262809.67110716   -9702.34916883    1539.98220266   -2639.06121260  0.276519044 -4.954063517 -2.755464125  2012  5 24 23: 0: 0.000013
 6262829.67110716   -6725.61935428   -4250.71875880   -4894.11617277  4.613298640 -4.167336281 -0.721702835  2012  5 24 23:19:59.999982
 6262849.67110716     602.11910644   -6900.32999593   -3751.13366372  6.860996565  0.483021660  2.779302417  2012  5 24 23:39:59.999991
 6262869.67110716    6571.79033905   -2218.46064040    1120.83628973  1.564646401  6.719626834  4.439512132  2012  5 25  0: 0: 0.000000
</textarea>
      
    <h2>Canvas:</h2>
    <canvas id="canvas" width="480" height="640" > </canvas>
  </body>
</html>

